import{r as D,u as w,a as y,b as F,c as R,f as a,j as e,A as M,C as $,G as A,F as r,d as f,E as C,S as T,e as k,W as x}from"./use-request-display-mode-CNHB5y8H.js";function E(n){if(n.result)return n.result;if(n.transfer){const{transfer:t}=n;return t&&!t.destination&&t.recipient?{...t,destination:t.recipient}:t??null}return null}function o(n){if(n==null||n==="")return"—";const t=typeof n=="string"?Number(n):n;return Number.isFinite(t)?`$${t.toLocaleString(void 0,{maximumFractionDigits:2})}`:"—"}function H(n){if(!n)return"—";const s=(n.startsWith("@")?n.slice(1):n).trim();return s?`@${s}`:"—"}D("dexter/solana-send",n=>{const t=w(()=>n),s=E(t),c=y()??null,h=F(),u=R(),l=t.ok?"sent":t.error==="confirmation_required"?"confirm":"error",p=l==="sent"?"Sent":l==="confirm"?"Confirm":"Failed",j=s?.destination??s?.recipient??null,i=s?.signature??null,d=s?.solscanUrl??(i?`https://solscan.io/tx/${i}`:null),m=t.thresholdUsd??null,b=s?.amountUi!=null?`${a(s.amountUi)}${s?.mint?` ${s.mint}`:""}`.trim():"—",g=o(s?.valueUsd??null),v=o(s?.priceUsd??null),U=c?{maxHeight:c,overflow:"auto"}:void 0,S=h!=="fullscreen"&&typeof u=="function";return e.jsx(M,{style:U,children:e.jsxs($,{title:"Solana Transfer",badge:{label:p},actions:S?e.jsx("button",{className:"dexter-link",onClick:()=>u?.({mode:"fullscreen"}),children:"Expand"}):null,children:[s?e.jsxs(A,{columns:3,children:[e.jsx(r,{label:"Source Wallet",value:f(s.walletAddress??""),code:!0}),e.jsx(r,{label:"Destination",value:f(j??""),code:!0}),e.jsx(r,{label:"Recipient Handle",value:H(s.recipientHandle)}),e.jsx(r,{label:"Mint",value:a(s.mint)}),e.jsx(r,{label:"Amount (UI)",value:b}),e.jsx(r,{label:"Value (USD)",value:g}),e.jsx(r,{label:"Price (USD)",value:v}),e.jsx(r,{label:"Decimals",value:a(s.decimals)}),e.jsx(r,{label:"Raw Amount",value:a(s.amountRaw)}),e.jsx(r,{label:"Memo",value:a(s.memo)}),l==="confirm"&&m!=null?e.jsx(r,{label:"Confirmation Threshold",value:o(m)}):null]}):e.jsx(C,{message:"No transfer details were returned."}),e.jsxs(T,{children:[e.jsxs("span",{children:["Updated ",k(Date.now())]}),l==="sent"?e.jsxs(e.Fragment,{children:[e.jsx("span",{children:"Transfer broadcast successfully."}),i?e.jsxs("span",{children:["Signature: ",i]}):null,d?e.jsx("a",{className:"dexter-link",href:d,target:"_blank",rel:"noreferrer",children:"View on Solscan"}):null]}):l==="confirm"?e.jsxs(e.Fragment,{children:[e.jsx("span",{children:"This transfer meets or exceeds the confirmation threshold."}),e.jsxs(x,{children:["Re-run the tool with ",e.jsx("code",{children:"confirm=true"})," to approve this transfer."]})]}):e.jsxs(e.Fragment,{children:[e.jsx("span",{children:a(t.message||t.error||"Send failed")}),e.jsx(x,{children:"Review the parameters and try again."})]})]})]})})});
