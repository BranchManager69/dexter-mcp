import{j as s,u as w}from"./use-openai-global-D7K5F0u7.js";/* empty css                   */import{c as g}from"./client-CWA1JIkp.js";function c(...n){for(const e of n)if(typeof e=="string"&&e.trim())return e.trim()}function i(...n){for(const e of n){if(typeof e=="number"&&Number.isFinite(e))return e;if(typeof e=="string"){const a=Number(e);if(Number.isFinite(a))return a}}}function v(n){return n?n.toLowerCase().includes("sol")||n==="native:SOL"?"SOL":n.slice(0,4).toUpperCase():"TOKEN"}function b(n,e){if(n===void 0)return"—";const a=e&&e>4?4:e??6;return Math.abs(n)>=1?n.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:a}):n.toLocaleString("en-US",{maximumSignificantDigits:6})}function x(n){return n===void 0||!Number.isFinite(n)?"—":new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",maximumFractionDigits:2}).format(n)}function o(n,e=6,a=4){return n.length<=e+a+3?n:`${n.slice(0,e)}…${n.slice(-a)}`}function S({size:n=24}){return s.jsxs("svg",{width:n,height:n,viewBox:"0 0 128 128",fill:"none",children:[s.jsx("defs",{children:s.jsxs("linearGradient",{id:"sol-send-grad",x1:"90%",y1:"0%",x2:"10%",y2:"100%",children:[s.jsx("stop",{offset:"0%",stopColor:"#00FFA3"}),s.jsx("stop",{offset:"100%",stopColor:"#DC1FFF"})]})}),s.jsx("path",{d:"M25.3 93.5c0.9-0.9 2.2-1.5 3.5-1.5h97.1c2.2 0 3.4 2.7 1.8 4.3l-24.2 24.2c-0.9 0.9-2.2 1.5-3.5 1.5H2.9c-2.2 0-3.4-2.7-1.8-4.3L25.3 93.5z",fill:"url(#sol-send-grad)"}),s.jsx("path",{d:"M25.3 2.5c1-1 2.3-1.5 3.5-1.5h97.1c2.2 0 3.4 2.7 1.8 4.3L103.5 29.5c-0.9 0.9-2.2 1.5-3.5 1.5H2.9c-2.2 0-3.4-2.7-1.8-4.3L25.3 2.5z",fill:"url(#sol-send-grad)"}),s.jsx("path",{d:"M102.7 47.3c-0.9-0.9-2.2-1.5-3.5-1.5H2.1c-2.2 0-3.4 2.7-1.8 4.3l24.2 24.2c0.9 0.9 2.2 1.5 3.5 1.5h97.1c2.2 0 3.4-2.7 1.8-4.3L102.7 47.3z",fill:"url(#sol-send-grad)"})]})}function F({symbol:n,size:e=24}){return n==="SOL"?s.jsx(S,{size:e}):s.jsx("div",{className:"send-token-icon",style:{width:e,height:e},children:s.jsx("span",{style:{fontSize:e*.4},children:n.slice(0,2)})})}function U({status:n}){const e={sent:{label:"Confirmed",className:"send-status-badge--success",icon:"✓"},confirm:{label:"Needs Confirmation",className:"send-status-badge--warning",icon:"⚠"},failed:{label:"Failed",className:"send-status-badge--error",icon:"✕"}}[n];return s.jsxs("span",{className:`send-status-badge ${e.className}`,children:[s.jsx("span",{className:"send-status-badge__icon",children:e.icon}),e.label]})}function y({from:n,to:e,amount:a,symbol:d,valueUsd:r,recipientHandle:l}){return s.jsxs("div",{className:"send-flow",children:[s.jsxs("div",{className:"send-flow__wallet",children:[s.jsx("div",{className:"send-flow__wallet-box",children:s.jsx("span",{className:"send-flow__wallet-label",children:"FROM"})}),s.jsx("span",{className:"send-flow__wallet-address",children:o(n)})]}),s.jsxs("div",{className:"send-flow__center",children:[s.jsxs("div",{className:"send-flow__amount-box",children:[s.jsx(F,{symbol:d,size:28}),s.jsxs("div",{className:"send-flow__amount-info",children:[s.jsxs("span",{className:"send-flow__amount",children:[a," ",s.jsx("span",{className:"send-flow__symbol",children:d})]}),r&&s.jsx("span",{className:"send-flow__value-usd",children:r})]})]}),s.jsxs("div",{className:"send-flow__track",children:[s.jsx("div",{className:"send-flow__track-line"}),s.jsx("div",{className:"send-flow__plane",children:"✈"})]})]}),s.jsxs("div",{className:"send-flow__wallet send-flow__wallet--to",children:[s.jsx("div",{className:"send-flow__wallet-box send-flow__wallet-box--to",children:s.jsx("span",{className:"send-flow__wallet-label",children:"TO"})}),s.jsx("span",{className:"send-flow__wallet-address",children:o(e)}),l&&s.jsx("span",{className:"send-flow__handle",children:l})]})]})}function k(){const n=w("toolOutput");if(!n)return s.jsx("div",{className:"send-container",children:s.jsxs("div",{className:"send-loading",children:[s.jsx("div",{className:"send-loading__spinner"}),s.jsx("span",{children:"Processing transfer..."})]})});const e=n.result??n.transfer??null,a=n.ok?"sent":n.error==="confirmation_required"?"confirm":"failed",d=c(e?.destination,e?.recipient)??"",r=c(e?.signature),l=c(e?.solscanUrl)??(r?`https://solscan.io/tx/${r}`:null),m=v(e?.mint),_=b(i(e?.amountUi),e?.decimals),t=x(i(e?.valueUsd)),f=x(i(e?.priceUsd)),j=i(n.thresholdUsd),N=c(e?.walletAddress)??"",p=c(e?.recipientHandle),u=c(e?.memo);return s.jsx("div",{className:"send-container",children:s.jsxs("div",{className:`send-card ${a==="sent"?"send-card--success":a==="confirm"?"send-card--warning":"send-card--error"}`,children:[a==="sent"&&s.jsx("div",{className:"send-card__glow send-card__glow--success"}),s.jsxs("div",{className:"send-card__header",children:[s.jsxs("div",{className:"send-card__title-row",children:[s.jsx("span",{className:"send-card__icon",children:"✈"}),s.jsx("span",{className:"send-card__title",children:a==="confirm"?"Transfer Preview":"Token Transfer"})]}),s.jsx(U,{status:a})]}),a==="confirm"&&s.jsxs("div",{className:"send-card__warning",children:[s.jsx("div",{className:"send-card__warning-icon",children:"⚠"}),s.jsxs("div",{className:"send-card__warning-content",children:[s.jsx("span",{className:"send-card__warning-title",children:"Confirmation Required"}),s.jsxs("span",{className:"send-card__warning-text",children:["This transfer exceeds the $",j??50," threshold. Re-run with ",s.jsx("code",{children:"confirm=true"})," to proceed."]})]})]}),a==="failed"&&s.jsx("div",{className:"send-card__error",children:s.jsx("span",{children:n.message||n.error||"Transfer failed"})}),e&&s.jsx(y,{from:N,to:d,amount:_,symbol:m,valueUsd:t!=="—"?t:void 0,recipientHandle:p}),e&&s.jsxs("div",{className:"send-card__metrics",children:[s.jsxs("div",{className:"send-card__metric",children:[s.jsx("span",{className:"send-card__metric-label",children:"Amount"}),s.jsxs("span",{className:"send-card__metric-value",children:[_," ",m]})]}),s.jsxs("div",{className:"send-card__metric",children:[s.jsx("span",{className:"send-card__metric-label",children:"Value"}),s.jsx("span",{className:"send-card__metric-value",children:t})]}),f!=="—"&&s.jsxs("div",{className:"send-card__metric",children:[s.jsx("span",{className:"send-card__metric-label",children:"Price"}),s.jsx("span",{className:"send-card__metric-value",children:f})]})]}),u&&s.jsxs("div",{className:"send-card__memo",children:[s.jsx("span",{className:"send-card__memo-label",children:"Memo"}),s.jsx("span",{className:"send-card__memo-value",children:u})]}),r&&s.jsxs("div",{className:"send-card__signature",children:[s.jsx("span",{className:"send-card__signature-label",children:"Transaction"}),s.jsx("span",{className:"send-card__signature-value",children:o(r)})]}),l&&s.jsx("div",{className:"send-card__footer",children:s.jsx("a",{href:l,target:"_blank",rel:"noreferrer",className:"send-card__link",children:"View on Solscan ↗"})})]})})}const h=document.getElementById("solana-send-root");h&&g.createRoot(h).render(s.jsx(k,{}));
