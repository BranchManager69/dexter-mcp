import{j as e,u as r}from"./use-openai-global-C-kWgFLb.js";import{c}from"./client-rURR1_t4.js";function h(a,s=8){return a.length<=s*2+3?a:`${a.slice(0,s)}â€¦${a.slice(-4)}`}function o(){const a=r("toolOutput");if(!a)return e.jsx("div",{className:"wallet-auth-container",children:e.jsxs("div",{className:"wallet-auth-loading",children:[e.jsx("div",{className:"wallet-auth-loading__spinner"}),e.jsx("span",{children:"Loading auth info..."})]})});const s=a.diagnostics??{},l=[];return a.source&&l.push({label:"Source",value:a.source}),s.bearer_source&&l.push({label:"Bearer",value:s.bearer_source}),s.override_session&&l.push({label:"Override",value:s.override_session,tone:"notice"}),s.wallets_cached!==void 0&&l.push({label:"Cached",value:String(s.wallets_cached)}),s.has_token!==void 0&&l.push({label:"Token",value:s.has_token?"Present":"Missing",tone:s.has_token?"positive":"negative"}),e.jsx("div",{className:"wallet-auth-container",children:e.jsxs("div",{className:"wallet-auth-card",children:[e.jsx("div",{className:"wallet-auth-header",children:e.jsx("span",{className:"wallet-auth-title",children:"Auth Diagnostics"})}),e.jsxs("div",{className:"wallet-auth-main",children:[e.jsx("div",{className:"wallet-auth-icon",children:e.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("rect",{x:"3",y:"11",width:"18",height:"11",rx:"2",ry:"2"}),e.jsx("path",{d:"M7 11V7a5 5 0 0 1 10 0v4"})]})}),e.jsxs("div",{className:"wallet-auth-info",children:[e.jsx("span",{className:"wallet-auth-label",children:"Session Wallet"}),a.wallet_address?e.jsx("a",{href:`https://solscan.io/account/${a.wallet_address}`,target:"_blank",rel:"noreferrer",className:"wallet-auth-address",children:a.wallet_address}):e.jsx("span",{className:"wallet-auth-no-wallet",children:"No wallet bound to this session."})]})]}),a.user_id&&e.jsxs("div",{className:"wallet-auth-user",children:[e.jsx("span",{className:"wallet-auth-user-label",children:"Supabase User"}),e.jsx("span",{className:"wallet-auth-user-id",children:h(a.user_id,8)})]}),l.length>0&&e.jsx("div",{className:"wallet-auth-chips",children:l.map((t,n)=>e.jsxs("div",{className:`wallet-auth-chip ${t.tone==="notice"?"wallet-auth-chip--notice":""} ${t.tone==="positive"?"wallet-auth-chip--positive":""} ${t.tone==="negative"?"wallet-auth-chip--negative":""}`,children:[e.jsx("span",{className:"wallet-auth-chip__label",children:t.label.toUpperCase()}),e.jsx("span",{className:"wallet-auth-chip__value",children:t.value})]},`${t.label}-${n}`))}),s.detail&&e.jsx("div",{className:"wallet-auth-detail",children:s.detail})]})})}const i=document.getElementById("wallet-auth-root");i&&c.createRoot(i).render(e.jsx(o,{}));
