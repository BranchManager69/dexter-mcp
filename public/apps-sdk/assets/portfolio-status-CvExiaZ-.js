import{c as f,j as s,u as m,r as _}from"./use-openai-global-Dfh2Qj7q.js";function h(...o){for(const e of o){if(typeof e=="number"&&Number.isFinite(e))return e;if(typeof e=="string"){const l=Number(e);if(Number.isFinite(l))return l}}}function d(o){const e=h(o);return e===void 0?"â€”":new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",maximumFractionDigits:2}).format(e)}function n(o,e){if(o===void 0||!Number.isFinite(o))return"â€”";const l=o.toLocaleString("en-US",{maximumFractionDigits:4});return e?`${l} ${e}`:l}function x(o,e=6,l=4){return o?o.length<=e+l+3?o:`${o.slice(0,e)}â€¦${o.slice(-l)}`:"â€”"}function u(o){if(!o)return"";const e=new Date(o);return isNaN(e.getTime())?"":e.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"})}function j({size:o=16}){return s.jsxs("svg",{width:o,height:o,viewBox:"0 0 128 128",fill:"none",children:[s.jsx("defs",{children:s.jsxs("linearGradient",{id:"sol-port-grad",x1:"90%",y1:"0%",x2:"10%",y2:"100%",children:[s.jsx("stop",{offset:"0%",stopColor:"#00FFA3"}),s.jsx("stop",{offset:"100%",stopColor:"#DC1FFF"})]})}),s.jsx("path",{d:"M25.3 93.5c0.9-0.9 2.2-1.5 3.5-1.5h97.1c2.2 0 3.4 2.7 1.8 4.3l-24.2 24.2c-0.9 0.9-2.2 1.5-3.5 1.5H2.9c-2.2 0-3.4-2.7-1.8-4.3L25.3 93.5z",fill:"url(#sol-port-grad)"}),s.jsx("path",{d:"M25.3 2.5c1-1 2.3-1.5 3.5-1.5h97.1c2.2 0 3.4 2.7 1.8 4.3L103.5 29.5c-0.9 0.9-2.2 1.5-3.5 1.5H2.9c-2.2 0-3.4-2.7-1.8-4.3L25.3 2.5z",fill:"url(#sol-port-grad)"}),s.jsx("path",{d:"M102.7 47.3c-0.9-0.9-2.2-1.5-3.5-1.5H2.1c-2.2 0-3.4 2.7-1.8 4.3l24.2 24.2c0.9 0.9 2.2 1.5 3.5 1.5h97.1c2.2 0 3.4-2.7 1.8-4.3L102.7 47.3z",fill:"url(#sol-port-grad)"})]})}function N({wallet:o,index:e}){const[l,t]=_.useState(!1),r=o.address??`Wallet ${e+1}`,a=o.chain??"Solana",i=o.verified??!1,p=d(o.totalUsd);return s.jsxs("div",{className:`portfolio-wallet ${i?"portfolio-wallet--verified":""}`,onClick:()=>t(!l),children:[s.jsxs("div",{className:"portfolio-wallet__header",children:[s.jsxs("div",{className:"portfolio-wallet__info",children:[s.jsx("div",{className:"portfolio-wallet__chain-icon",children:s.jsx(j,{size:20})}),s.jsxs("div",{className:"portfolio-wallet__details",children:[s.jsx("span",{className:"portfolio-wallet__address",children:x(r)}),s.jsx("span",{className:"portfolio-wallet__chain",children:a})]})]}),s.jsxs("div",{className:"portfolio-wallet__value",children:[s.jsx("span",{className:"portfolio-wallet__total",children:p}),i&&s.jsx("span",{className:"portfolio-wallet__verified-badge",children:"âœ“"})]})]}),l&&s.jsxs("div",{className:"portfolio-wallet__balances",children:[o.sol!==void 0&&s.jsxs("div",{className:"portfolio-wallet__balance",children:[s.jsx("span",{className:"portfolio-wallet__balance-label",children:"SOL"}),s.jsx("span",{className:"portfolio-wallet__balance-value",children:n(o.sol)})]}),o.usdc!==void 0&&s.jsxs("div",{className:"portfolio-wallet__balance",children:[s.jsx("span",{className:"portfolio-wallet__balance-label",children:"USDC"}),s.jsx("span",{className:"portfolio-wallet__balance-value",children:n(o.usdc)})]}),o.usdt!==void 0&&s.jsxs("div",{className:"portfolio-wallet__balance",children:[s.jsx("span",{className:"portfolio-wallet__balance-label",children:"USDT"}),s.jsx("span",{className:"portfolio-wallet__balance-value",children:n(o.usdt)})]})]})]})}function v(){const o=m("toolOutput");if(!o)return s.jsx("div",{className:"portfolio-container",children:s.jsxs("div",{className:"portfolio-loading",children:[s.jsx("div",{className:"portfolio-loading__spinner"}),s.jsx("span",{children:"Loading portfolio..."})]})});const e=Array.isArray(o.wallets)?o.wallets:[],l=d(o.totalUsd),t=o.updatedAt,r=e.some(a=>!a.verified);return e.length===0?s.jsx("div",{className:"portfolio-container",children:s.jsxs("div",{className:"portfolio-card",children:[s.jsx("div",{className:"portfolio-card__header",children:s.jsx("span",{className:"portfolio-card__title",children:"Portfolio Overview"})}),s.jsxs("div",{className:"portfolio-empty",children:[s.jsx("span",{className:"portfolio-empty__icon",children:"ðŸ“­"}),s.jsx("span",{className:"portfolio-empty__text",children:"No wallets linked"}),s.jsx("span",{className:"portfolio-empty__hint",children:"Link a wallet to see your portfolio"})]})]})}):s.jsx("div",{className:"portfolio-container",children:s.jsxs("div",{className:"portfolio-card",children:[s.jsxs("div",{className:"portfolio-card__header",children:[s.jsxs("div",{className:"portfolio-card__title-row",children:[s.jsx("span",{className:"portfolio-card__title",children:"Portfolio Overview"}),t&&s.jsxs("span",{className:"portfolio-card__time",children:["Updated ",u(t)]})]}),s.jsxs("div",{className:"portfolio-card__total-row",children:[s.jsx("span",{className:"portfolio-card__total-label",children:"Total Value"}),s.jsx("span",{className:"portfolio-card__total-value",children:l})]})]}),r&&s.jsxs("div",{className:"portfolio-card__warning",children:[s.jsx("span",{className:"portfolio-card__warning-icon",children:"âš "}),s.jsx("span",{className:"portfolio-card__warning-text",children:"Some wallets are not verified. Deposits may fail until verified."})]}),s.jsx("div",{className:"portfolio-wallets",children:e.map((a,i)=>s.jsx(N,{wallet:a,index:i},a.address||i))}),s.jsx("div",{className:"portfolio-card__footer",children:s.jsxs("span",{className:"portfolio-card__count",children:[e.length," wallet",e.length!==1?"s":""]})})]})})}const c=document.getElementById("portfolio-status-root");c&&f.createRoot(c).render(s.jsx(v,{}));
