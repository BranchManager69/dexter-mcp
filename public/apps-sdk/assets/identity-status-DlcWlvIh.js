import{c as E,j as e,u as I}from"./use-openai-global-B8Xd47V4.js";import{u as k,a as N,b as R,A as r,C as d,E as A,S as x,G as y,F as t,W as M}from"./AppShell-Ctqjfg1v.js";import{f as m,a as f,b as B}from"./utils-TtCzbpDq.js";function g({identity:s}){return e.jsxs("div",{style:{marginBottom:"12px",padding:"12px",background:"var(--dexter-bg-secondary, #f5f5f5)",borderRadius:"8px"},children:[e.jsxs(y,{columns:2,children:[e.jsx(t,{label:"Name",value:s.name||"Unnamed"}),e.jsx(t,{label:"Chain",value:m(s.chain)}),e.jsx(t,{label:"Agent ID",value:f(s.agentId??""),code:!0}),e.jsx(t,{label:"Status",value:m(s.status)}),s.agentWallet&&e.jsx(t,{label:"Wallet",value:f(s.agentWallet),code:!0}),s.mintedAt&&e.jsx(t,{label:"Minted",value:B(s.mintedAt)})]}),s.services&&s.services.length>0&&e.jsx("div",{style:{marginTop:"8px"},children:e.jsxs("span",{style:{fontSize:"12px",color:"var(--dexter-text-muted, #666)"},children:["Services: ",s.services.map(n=>n.name).join(", ")]})})]})}function W(){const s=I("toolOutput"),n=k()??null,S=N(),l=R(),i=n?{maxHeight:n,overflow:"auto"}:void 0,c=S!=="fullscreen"&&typeof l=="function";if(!s)return e.jsx(r,{style:i,children:e.jsx(d,{title:"Identity Status",badge:{label:"Loading"},children:e.jsx(A,{message:"Checking identity..."})})});const{hasIdentity:u,hasBase:j,hasSolana:p,identity:a,identities:o,recommended:h}=s;return a?e.jsx(r,{style:i,children:e.jsxs(d,{title:"ERC-8004 Identity",badge:{label:a.status==="minted"?"Active":m(a.status)},actions:c?e.jsx("button",{className:"dexter-link",onClick:()=>l?.({mode:"fullscreen"}),children:"Expand"}):null,children:[e.jsx(g,{identity:a}),a.description&&e.jsx("p",{style:{fontSize:"14px",color:"var(--dexter-text-secondary, #444)",margin:"8px 0"},children:a.description}),e.jsx(x,{children:e.jsxs("span",{children:["ERC-8004 on ",a.chain]})})]})}):o&&o.length>0?e.jsx(r,{style:i,children:e.jsxs(d,{title:"Your Identities",badge:{label:`${o.length} found`},actions:c?e.jsx("button",{className:"dexter-link",onClick:()=>l?.({mode:"fullscreen"}),children:"Expand"}):null,children:[o.map((b,C)=>e.jsx(g,{identity:b},b.id||C)),e.jsx(x,{children:e.jsxs("span",{children:["Base: ",j?"✓":"✗"," | Solana: ",p?"✓":"✗"]})})]})}):e.jsx(r,{style:i,children:e.jsxs(d,{title:"Identity Status",badge:{label:u?"Found":"Not Found"},actions:c?e.jsx("button",{className:"dexter-link",onClick:()=>l?.({mode:"fullscreen"}),children:"Expand"}):null,children:[e.jsxs(y,{columns:2,children:[e.jsx(t,{label:"Has Identity",value:u?"Yes":"No"}),e.jsx(t,{label:"Base",value:j?"Yes":"No"}),e.jsx(t,{label:"Solana",value:p?"Yes":"No"}),h&&e.jsx(t,{label:"Recommended",value:h})]}),!u&&e.jsx(M,{children:"No ERC-8004 identity found. Use mint_identity to create one."}),e.jsx(x,{children:e.jsx("span",{children:"ERC-8004 Identity Check"})})]})})}const v=document.getElementById("identity-status-root");v&&E.createRoot(v).render(e.jsx(W,{}));
