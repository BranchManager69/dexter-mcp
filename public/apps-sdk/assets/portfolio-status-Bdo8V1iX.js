import{c as d,j as e,r as u,u as j,a as g,b,d as h,A as v,C as w,E as c,G as S,F as a,e as y,f as l,W as D,S as A,g as U}from"./use-request-display-mode-B9yDPinm.js";function E(t){return t?{wallets:Array.isArray(t.wallets)?t.wallets:[],totalUsd:t.totalUsd??"0.00",updatedAt:t.updatedAt??Date.now()}:null}function p(){const[t,n]=u.useState("initializing...");u.useEffect(()=>{const s=window.openai?Object.keys(window.openai):[],i=window.openai?.toolOutput;n(`window.openai keys: [${s.join(", ")}], toolOutput: ${JSON.stringify(i)?.slice(0,100)}`)},[]);const m=j("toolOutput"),o=E(m),r=g()??null;b(),h();const f=r?{maxHeight:r,overflow:"auto"}:void 0;return e.jsx(v,{style:f,children:e.jsxs(w,{title:"Portfolio Overview",badge:{label:o?`$${o.totalUsd} USD`:"Loading"},children:[e.jsxs("div",{style:{background:"#222",color:"#0f0",padding:"8px",fontSize:"10px",fontFamily:"monospace",marginBottom:"12px",borderRadius:"4px"},children:[e.jsx("strong",{children:"DEBUG:"})," ",t]}),o?o.wallets.length===0?e.jsx(c,{message:"No wallets linked."}):o.wallets.map((s,i)=>e.jsx("div",{style:{marginBottom:12},children:e.jsxs(S,{columns:3,children:[e.jsx(a,{label:"Address",value:y(s.address),code:!0}),e.jsx(a,{label:"Chain",value:l(s.chain)}),e.jsx(a,{label:"SOL",value:l(s.sol)}),e.jsx(a,{label:"USDC",value:l(s.usdc)}),e.jsx(a,{label:"USDT",value:l(s.usdt)}),e.jsx(a,{label:"Total (USD)",value:`$${l(s.totalUsd)}`})]})},s.address||i)):e.jsx(c,{message:"Fetching wallet data..."}),o&&o.wallets.length>0&&!o.wallets.every(s=>s.verified)&&e.jsx(D,{children:"Some wallets are not verified. Deposits may fail until verified."}),e.jsx(A,{children:e.jsxs("span",{children:["Updated ",U(o?.updatedAt??Date.now())]})})]})})}const x=document.getElementById("portfolio-status-root");if(x)d.createRoot(x).render(e.jsx(p,{}));else{const t=document.createElement("div");t.id="portfolio-status-root",document.body.appendChild(t),d.createRoot(t).render(e.jsx(p,{}))}
