import{j as s,u as r}from"./use-openai-global-C-kWgFLb.js";import{c}from"./client-rURR1_t4.js";function t(e){return e.gameType||e.game_type||e.type?e.gameType||e.game_type||e.type||"unknown":e.currentKing||e.current_king||e.kingScore!=null?"king":e.storyId||e.story_id||e.chapter!=null?"story":"generic"}function m(e){switch(e){case"king":return"ðŸ‘‘";case"story":return"ðŸ“–";default:return"ðŸŽ®"}}function d(e){switch(e){case"king":return"King of the Hill";case"story":return"Story Game";default:return"Game State"}}function g(){const e=r("toolOutput");if(!e)return s.jsx("div",{className:"game-container",children:s.jsxs("div",{className:"game-loading",children:[s.jsx("div",{className:"game-loading__spinner"}),s.jsx("span",{children:"Loading game state..."})]})});if(e.error)return s.jsx("div",{className:"game-container",children:s.jsx("div",{className:"game-error",children:e.error})});const a=t(e),n=e.currentKing||e.current_king,i=e.kingScore||e.king_score;return e.storyId||e.story_id,s.jsx("div",{className:"game-container",children:s.jsxs("div",{className:"game-card",children:[s.jsxs("div",{className:"game-header",children:[s.jsxs("div",{className:"game-header-left",children:[s.jsx("span",{className:"game-icon",children:m(a)}),s.jsx("span",{className:"game-title",children:d(a)})]}),s.jsx("span",{className:"game-badge",children:"P3 STUB"})]}),a==="king"&&s.jsxs("div",{className:"game-content",children:[n&&s.jsxs("div",{className:"game-field",children:[s.jsx("span",{className:"game-field__label",children:"Current King"}),s.jsx("span",{className:"game-field__value",children:n})]}),i!=null&&s.jsxs("div",{className:"game-field",children:[s.jsx("span",{className:"game-field__label",children:"Score"}),s.jsx("span",{className:"game-field__value",children:i})]}),e.challengers!=null&&s.jsxs("div",{className:"game-field",children:[s.jsx("span",{className:"game-field__label",children:"Challengers"}),s.jsx("span",{className:"game-field__value",children:e.challengers})]})]}),a==="story"&&s.jsxs("div",{className:"game-content",children:[e.title&&s.jsxs("div",{className:"game-field",children:[s.jsx("span",{className:"game-field__label",children:"Title"}),s.jsx("span",{className:"game-field__value",children:e.title})]}),e.chapter!=null&&s.jsxs("div",{className:"game-field",children:[s.jsx("span",{className:"game-field__label",children:"Chapter"}),s.jsx("span",{className:"game-field__value",children:e.chapter})]}),e.content&&s.jsx("div",{className:"game-story",children:s.jsxs("p",{children:[e.content.slice(0,300),e.content.length>300?"...":""]})})]}),a==="generic"&&e.state&&s.jsx("div",{className:"game-raw",children:s.jsx("pre",{children:JSON.stringify(e.state,null,2).slice(0,500)})}),s.jsx("div",{className:"game-stub-notice",children:"This is a P3 stub widget. Full implementation pending."})]})})}const l=document.getElementById("game-state-root");l&&c.createRoot(l).render(s.jsx(g,{}));
