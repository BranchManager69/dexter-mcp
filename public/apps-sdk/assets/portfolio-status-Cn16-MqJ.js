import{j as e,u as v,r as h}from"./use-openai-global-D7K5F0u7.js";import{E as l,B as j,a as g}from"./EmptyMessage-nIV1zrJl.js";import{c as b}from"./client-CWA1JIkp.js";import{C}from"./Check-DFLTSzqq.js";import{C as z,a as U}from"./ChevronUp-6bMv8VMu.js";import{C as k}from"./Copy-5G5W9gZx.js";import{C as p}from"./CreditCard-D9ZoJ7mR.js";function S(...s){for(const t of s){if(typeof t=="number"&&Number.isFinite(t))return t;if(typeof t=="string"){const r=Number(t);if(Number.isFinite(r))return r}}}function N(s){const t=S(s);return t===void 0?"—":new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",maximumFractionDigits:2}).format(t)}function m(s,t){if(s===void 0||!Number.isFinite(s))return"—";const r=s.toLocaleString("en-US",{maximumFractionDigits:4});return t?`${r} ${t}`:r}function y(s,t=6,r=4){return s?s.length<=t+r+3?s:`${s.slice(0,t)}…${s.slice(-r)}`:"—"}function D(s){if(!s)return"";const t=new Date(s);return isNaN(t.getTime())?"":t.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"})}function F({className:s}){return e.jsxs("svg",{viewBox:"0 0 128 128",fill:"none",className:s,children:[e.jsx("defs",{children:e.jsxs("linearGradient",{id:"sol-port-grad",x1:"90%",y1:"0%",x2:"10%",y2:"100%",children:[e.jsx("stop",{offset:"0%",stopColor:"#00FFA3"}),e.jsx("stop",{offset:"100%",stopColor:"#DC1FFF"})]})}),e.jsx("path",{d:"M25.3 93.5c0.9-0.9 2.2-1.5 3.5-1.5h97.1c2.2 0 3.4 2.7 1.8 4.3l-24.2 24.2c-0.9 0.9-2.2 1.5-3.5 1.5H2.9c-2.2 0-3.4-2.7-1.8-4.3L25.3 93.5z",fill:"url(#sol-port-grad)"}),e.jsx("path",{d:"M25.3 2.5c1-1 2.3-1.5 3.5-1.5h97.1c2.2 0 3.4 2.7 1.8 4.3L103.5 29.5c-0.9 0.9-2.2 1.5-3.5 1.5H2.9c-2.2 0-3.4-2.7-1.8-4.3L25.3 2.5z",fill:"url(#sol-port-grad)"}),e.jsx("path",{d:"M102.7 47.3c-0.9-0.9-2.2-1.5-3.5-1.5H2.1c-2.2 0-3.4 2.7-1.8 4.3l24.2 24.2c0.9 0.9 2.2 1.5 3.5 1.5h97.1c2.2 0 3.4-2.7 1.8-4.3L102.7 47.3z",fill:"url(#sol-port-grad)"})]})}function L({address:s}){const[t,r]=h.useState(!1),c=async n=>{n.stopPropagation();try{await navigator.clipboard.writeText(s),r(!0),setTimeout(()=>r(!1),2e3)}catch{const i=document.createElement("textarea");i.value=s,document.body.appendChild(i),i.select(),document.execCommand("copy"),document.body.removeChild(i),r(!0),setTimeout(()=>r(!1),2e3)}};return e.jsx(g,{color:"secondary",variant:"ghost",size:"xs",onClick:c,uniform:!0,children:t?e.jsx(C,{className:"size-3.5"}):e.jsx(k,{className:"size-3.5"})})}function T({wallet:s,index:t}){const[r,c]=h.useState(!1),n=s.address||s.public_key||`Wallet ${t+1}`,i=s.label,a=s.chain??"Solana",o=s.is_default??!1,x=s.status,d=s.sol!==void 0||s.usdc!==void 0||s.usdt!==void 0,u=s.totalUsd!==void 0?N(s.totalUsd):null;return e.jsxs("div",{className:`rounded-xl border p-4 transition-all ${o?"border-success/30 bg-success/5":"border-default bg-surface"} ${d?"cursor-pointer hover:border-default-strong":""}`,onClick:()=>d&&c(!r),children:[e.jsxs("div",{className:"flex items-center justify-between gap-3",children:[e.jsxs("div",{className:"flex items-center gap-3 min-w-0",children:[e.jsx("div",{className:"flex-shrink-0 size-10 rounded-lg bg-surface-tertiary flex items-center justify-center",children:e.jsx(F,{className:"size-5"})}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"font-medium text-sm text-primary truncate",children:y(n)}),e.jsx(L,{address:n})]}),e.jsxs("div",{className:"flex items-center gap-2 mt-0.5",children:[e.jsx("span",{className:"text-xs text-tertiary",children:i||a}),o&&e.jsx(j,{color:"success",size:"sm",variant:"soft",children:"Default"}),x&&e.jsx("span",{className:`size-2 rounded-full ${x==="active"?"bg-success":"bg-secondary"}`})]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[u&&e.jsx("span",{className:"font-semibold text-sm text-primary",children:u}),d&&e.jsx("div",{className:"text-tertiary",children:r?e.jsx(z,{className:"size-4"}):e.jsx(U,{className:"size-4"})})]})]}),r&&d&&e.jsxs("div",{className:"mt-4 pt-4 border-t border-subtle grid grid-cols-3 gap-4",children:[s.sol!==void 0&&e.jsxs("div",{children:[e.jsx("div",{className:"text-xs text-tertiary uppercase tracking-wide",children:"SOL"}),e.jsx("div",{className:"text-sm font-medium text-primary mt-0.5",children:m(s.sol)})]}),s.usdc!==void 0&&e.jsxs("div",{children:[e.jsx("div",{className:"text-xs text-tertiary uppercase tracking-wide",children:"USDC"}),e.jsx("div",{className:"text-sm font-medium text-primary mt-0.5",children:m(s.usdc)})]}),s.usdt!==void 0&&e.jsxs("div",{children:[e.jsx("div",{className:"text-xs text-tertiary uppercase tracking-wide",children:"USDT"}),e.jsx("div",{className:"text-sm font-medium text-primary mt-0.5",children:m(s.usdt)})]})]})]})}function A(){const s=v("toolOutput");if(!s)return e.jsx("div",{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-center gap-3 py-8",children:[e.jsx("div",{className:"size-5 border-2 border-primary/30 border-t-primary rounded-full animate-spin"}),e.jsx("span",{className:"text-secondary text-sm",children:"Loading portfolio..."})]})});const t=Array.isArray(s.wallets)?s.wallets:[],r=s.totalUsd!==void 0?N(s.totalUsd):null,c=s.updatedAt,n=t.find(a=>a.is_default),i=t.some(a=>a.totalUsd!==void 0||a.sol!==void 0);return t.length===0?e.jsx("div",{className:"p-4",children:e.jsxs(l,{fill:"none",children:[e.jsx(l.Icon,{children:e.jsx(p,{className:"size-8"})}),e.jsx(l.Title,{children:"No wallets linked"}),e.jsx(l.Description,{children:"Link a wallet to see your portfolio and start trading."})]})}):e.jsxs("div",{className:"p-4 space-y-4",children:[e.jsxs("div",{className:"rounded-xl border border-default bg-surface p-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(p,{className:"size-5 text-secondary"}),e.jsx("h2",{className:"font-semibold text-base text-primary",children:"Linked Wallets"}),e.jsx(j,{color:"secondary",size:"sm",variant:"soft",children:t.length})]}),c&&e.jsxs("span",{className:"text-xs text-tertiary",children:["Updated ",D(c)]})]}),i&&r&&e.jsxs("div",{className:"mt-4 pt-4 border-t border-subtle",children:[e.jsx("div",{className:"text-xs text-tertiary uppercase tracking-wide",children:"Total Value"}),e.jsx("div",{className:"text-2xl font-bold text-primary mt-1",children:r})]}),n&&!i&&e.jsxs("div",{className:"mt-4 pt-4 border-t border-subtle flex items-center gap-2",children:[e.jsx("span",{className:"size-2 rounded-full bg-success"}),e.jsx("span",{className:"text-sm text-secondary",children:"Active:"}),e.jsx("code",{className:"text-xs text-primary bg-surface-secondary px-2 py-0.5 rounded",children:y(n.address||n.public_key||"")})]})]}),e.jsx("div",{className:"space-y-3",children:t.map((a,o)=>e.jsx(T,{wallet:a,index:o},a.address||o))})]})}const f=document.getElementById("portfolio-status-root");f&&b.createRoot(f).render(e.jsx(A,{}));
