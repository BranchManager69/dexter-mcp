import{j as s,u as h,r as x}from"./use-openai-global-C-kWgFLb.js";import{c as j}from"./client-rURR1_t4.js";function N(...o){for(const l of o){if(typeof l=="number"&&Number.isFinite(l))return l;if(typeof l=="string"){const a=Number(l);if(Number.isFinite(a))return a}}}function u(o){const l=N(o);return l===void 0?"â€”":new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",maximumFractionDigits:2}).format(l)}function p(o,l){if(o===void 0||!Number.isFinite(o))return"â€”";const a=o.toLocaleString("en-US",{maximumFractionDigits:4});return l?`${a} ${l}`:a}function _(o,l=6,a=4){return o?o.length<=l+a+3?o:`${o.slice(0,l)}â€¦${o.slice(-a)}`:"â€”"}function v(o){if(!o)return"";const l=new Date(o);return isNaN(l.getTime())?"":l.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"})}function b({size:o=16}){return s.jsxs("svg",{width:o,height:o,viewBox:"0 0 128 128",fill:"none",children:[s.jsx("defs",{children:s.jsxs("linearGradient",{id:"sol-port-grad",x1:"90%",y1:"0%",x2:"10%",y2:"100%",children:[s.jsx("stop",{offset:"0%",stopColor:"#00FFA3"}),s.jsx("stop",{offset:"100%",stopColor:"#DC1FFF"})]})}),s.jsx("path",{d:"M25.3 93.5c0.9-0.9 2.2-1.5 3.5-1.5h97.1c2.2 0 3.4 2.7 1.8 4.3l-24.2 24.2c-0.9 0.9-2.2 1.5-3.5 1.5H2.9c-2.2 0-3.4-2.7-1.8-4.3L25.3 93.5z",fill:"url(#sol-port-grad)"}),s.jsx("path",{d:"M25.3 2.5c1-1 2.3-1.5 3.5-1.5h97.1c2.2 0 3.4 2.7 1.8 4.3L103.5 29.5c-0.9 0.9-2.2 1.5-3.5 1.5H2.9c-2.2 0-3.4-2.7-1.8-4.3L25.3 2.5z",fill:"url(#sol-port-grad)"}),s.jsx("path",{d:"M102.7 47.3c-0.9-0.9-2.2-1.5-3.5-1.5H2.1c-2.2 0-3.4 2.7-1.8 4.3l24.2 24.2c0.9 0.9 2.2 1.5 3.5 1.5h97.1c2.2 0 3.4-2.7 1.8-4.3L102.7 47.3z",fill:"url(#sol-port-grad)"})]})}function g({wallet:o,index:l}){const[a,r]=x.useState(!1),e=o.address||o.public_key||`Wallet ${l+1}`,n=o.label,t=o.chain??"Solana",i=o.is_default??!1,c=o.status,d=o.sol!==void 0||o.usdc!==void 0||o.usdt!==void 0,f=o.totalUsd!==void 0?u(o.totalUsd):null;return s.jsxs("div",{className:`portfolio-wallet ${i?"portfolio-wallet--default":""}`,onClick:()=>d&&r(!a),style:{cursor:d?"pointer":"default"},children:[s.jsxs("div",{className:"portfolio-wallet__header",children:[s.jsxs("div",{className:"portfolio-wallet__info",children:[s.jsx("div",{className:"portfolio-wallet__chain-icon",children:s.jsx(b,{size:20})}),s.jsxs("div",{className:"portfolio-wallet__details",children:[s.jsx("span",{className:"portfolio-wallet__address",children:_(e)}),s.jsxs("span",{className:"portfolio-wallet__chain",children:[n||t,i&&s.jsx("span",{className:"portfolio-wallet__default-badge",children:"Default"})]})]})]}),s.jsx("div",{className:"portfolio-wallet__value",children:f?s.jsx("span",{className:"portfolio-wallet__total",children:f}):c?s.jsx("span",{className:`portfolio-wallet__status portfolio-wallet__status--${c}`,children:c}):null})]}),a&&d&&s.jsxs("div",{className:"portfolio-wallet__balances",children:[o.sol!==void 0&&s.jsxs("div",{className:"portfolio-wallet__balance",children:[s.jsx("span",{className:"portfolio-wallet__balance-label",children:"SOL"}),s.jsx("span",{className:"portfolio-wallet__balance-value",children:p(o.sol)})]}),o.usdc!==void 0&&s.jsxs("div",{className:"portfolio-wallet__balance",children:[s.jsx("span",{className:"portfolio-wallet__balance-label",children:"USDC"}),s.jsx("span",{className:"portfolio-wallet__balance-value",children:p(o.usdc)})]}),o.usdt!==void 0&&s.jsxs("div",{className:"portfolio-wallet__balance",children:[s.jsx("span",{className:"portfolio-wallet__balance-label",children:"USDT"}),s.jsx("span",{className:"portfolio-wallet__balance-value",children:p(o.usdt)})]})]})]})}function w(){const o=h("toolOutput");if(!o)return s.jsx("div",{className:"portfolio-container",children:s.jsxs("div",{className:"portfolio-loading",children:[s.jsx("div",{className:"portfolio-loading__spinner"}),s.jsx("span",{children:"Loading portfolio..."})]})});const l=Array.isArray(o.wallets)?o.wallets:[],a=o.totalUsd!==void 0?u(o.totalUsd):null,r=o.updatedAt,e=l.find(t=>t.is_default),n=l.some(t=>t.totalUsd!==void 0||t.sol!==void 0);return l.length===0?s.jsx("div",{className:"portfolio-container",children:s.jsxs("div",{className:"portfolio-card",children:[s.jsx("div",{className:"portfolio-card__header",children:s.jsx("span",{className:"portfolio-card__title",children:"Portfolio Overview"})}),s.jsxs("div",{className:"portfolio-empty",children:[s.jsx("span",{className:"portfolio-empty__icon",children:"ðŸ“­"}),s.jsx("span",{className:"portfolio-empty__text",children:"No wallets linked"}),s.jsx("span",{className:"portfolio-empty__hint",children:"Link a wallet to see your portfolio"})]})]})}):s.jsx("div",{className:"portfolio-container",children:s.jsxs("div",{className:"portfolio-card",children:[s.jsxs("div",{className:"portfolio-card__header",children:[s.jsxs("div",{className:"portfolio-card__title-row",children:[s.jsx("span",{className:"portfolio-card__title",children:"Linked Wallets"}),r&&s.jsxs("span",{className:"portfolio-card__time",children:["Updated ",v(r)]})]}),n&&a&&s.jsxs("div",{className:"portfolio-card__total-row",children:[s.jsx("span",{className:"portfolio-card__total-label",children:"Total Value"}),s.jsx("span",{className:"portfolio-card__total-value",children:a})]}),e&&!n&&s.jsxs("div",{className:"portfolio-card__default-info",children:[s.jsx("span",{className:"portfolio-card__default-label",children:"Active Wallet"}),s.jsx("span",{className:"portfolio-card__default-address",children:_(e.address||e.public_key||"")})]})]}),s.jsx("div",{className:"portfolio-wallets",children:l.map((t,i)=>s.jsx(g,{wallet:t,index:i},t.address||i))}),s.jsx("div",{className:"portfolio-card__footer",children:s.jsxs("span",{className:"portfolio-card__count",children:[l.length," wallet",l.length!==1?"s":""]})})]})})}const m=document.getElementById("portfolio-status-root");m&&j.createRoot(m).render(s.jsx(w,{}));
