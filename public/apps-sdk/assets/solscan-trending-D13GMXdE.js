import{j as e,u as h,r as m}from"./use-openai-global-C-kWgFLb.js";import{c as x}from"./client-rURR1_t4.js";import{g as j}from"./utils-B17YD0uM.js";function N(n){return!n||!Number.isFinite(n)?"$0.00":n<1e-4?`$${n.toExponential(2)}`:n<1?`$${n.toFixed(6)}`:`$${n.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})}`}function o(n){return!n||!Number.isFinite(n)?"â€”":n>=1e9?`$${(n/1e9).toFixed(2)}B`:n>=1e6?`$${(n/1e6).toFixed(2)}M`:n>=1e3?`$${(n/1e3).toFixed(1)}K`:`$${n.toFixed(0)}`}function p(n){if(!n||!Number.isFinite(n))return{text:"0.00%",isPositive:!0};const s=n>=0;return{text:`${s?"+":""}${n.toFixed(2)}%`,isPositive:s}}function f(n){return n?n.length<=12?n:`${n.slice(0,6)}...${n.slice(-4)}`:"â€”"}function u({symbol:n,imageUrl:s,size:r=42}){const[c,a]=m.useState(!1),i=s&&!c;return e.jsx("div",{className:"trending-token-icon",style:{width:r,height:r},children:i?e.jsx("img",{src:s,alt:n,onError:()=>a(!0),referrerPolicy:"no-referrer"}):e.jsx("span",{className:"trending-token-icon__fallback",children:(n||"?").slice(0,2)})})}function v({token:n,rank:s,isExpanded:r,onToggle:c}){const a=p(n.priceChange24h||n.price_change_24h),i=n.volume24h||n.volume_24h,t=n.marketCap||n.market_cap,d=n.mint||n.address,_=n.logoUrl||n.logo_url||n.image||(d?j(d):void 0);return e.jsxs("div",{className:`trending-card ${r?"trending-card--expanded":""} ${a.isPositive?"trending-card--positive":"trending-card--negative"}`,onClick:c,children:[e.jsx("div",{className:`trending-card__glow ${a.isPositive?"trending-card__glow--positive":"trending-card__glow--negative"}`}),e.jsxs("div",{className:"trending-card__content",children:[e.jsxs("div",{className:"trending-card__header",children:[e.jsxs("div",{className:"trending-card__token",children:[e.jsxs("div",{className:"trending-card__rank-badge",children:["#",s]}),e.jsx(u,{symbol:n.symbol||"?",imageUrl:_,size:r?56:42}),e.jsxs("div",{className:"trending-card__token-info",children:[e.jsx("span",{className:`trending-card__symbol ${r?"trending-card__symbol--large":""}`,children:n.symbol||"Unknown"}),e.jsx("span",{className:"trending-card__name",children:n.name||"â€”"})]})]}),e.jsxs("div",{className:"trending-card__value",children:[e.jsx("span",{className:`trending-card__price ${r?"trending-card__price--large":""}`,children:N(n.price)}),e.jsx("span",{className:`trending-card__change ${a.isPositive?"trending-card__change--positive":"trending-card__change--negative"}`,children:a.text})]})]}),e.jsx("div",{className:"trending-card__divider"}),!r&&e.jsx("div",{className:"trending-card__footer",children:e.jsxs("div",{className:"trending-card__stats",children:[t&&e.jsxs("span",{className:"trending-card__stat",children:["MC ",o(t)]}),i&&e.jsxs("span",{className:"trending-card__stat",children:["VOL ",o(i)]})]})}),r&&e.jsxs("div",{className:"trending-card__details",children:[e.jsxs("div",{className:"trending-card__metrics",children:[e.jsxs("div",{className:"trending-card__metric",children:[e.jsx("span",{className:"trending-card__metric-label",children:"MARKET CAP"}),e.jsx("span",{className:"trending-card__metric-value",children:o(t)})]}),e.jsxs("div",{className:"trending-card__metric",children:[e.jsx("span",{className:"trending-card__metric-label",children:"VOL (24H)"}),e.jsx("span",{className:"trending-card__metric-value",children:o(i)})]}),n.holders&&e.jsxs("div",{className:"trending-card__metric",children:[e.jsx("span",{className:"trending-card__metric-label",children:"HOLDERS"}),e.jsx("span",{className:"trending-card__metric-value",children:n.holders.toLocaleString()})]})]}),e.jsxs("div",{className:"trending-card__links",children:[d&&e.jsx("span",{className:"trending-card__mint",title:d,children:f(d)}),e.jsx("div",{className:"trending-card__external-links",children:d&&e.jsxs(e.Fragment,{children:[e.jsx("a",{href:`https://solscan.io/token/${d}`,target:"_blank",rel:"noreferrer",onClick:l=>l.stopPropagation(),children:"Solscan"}),e.jsx("a",{href:`https://birdeye.so/token/${d}`,target:"_blank",rel:"noreferrer",onClick:l=>l.stopPropagation(),children:"Birdeye"}),e.jsx("a",{href:`https://dexscreener.com/solana/${d}`,target:"_blank",rel:"noreferrer",onClick:l=>l.stopPropagation(),children:"Dexscreener"})]})})]})]})]})]})}function $(){const n=h("toolOutput"),[s,r]=m.useState(null);if(!n)return e.jsx("div",{className:"trending-container",children:e.jsxs("div",{className:"trending-loading",children:[e.jsx("div",{className:"trending-loading__spinner"}),e.jsx("span",{children:"Loading trending tokens..."})]})});if(n.error)return e.jsx("div",{className:"trending-container",children:e.jsx("div",{className:"trending-error",children:n.error})});const c=n.tokens||n.data||n.results||[],a=n.fetchedAt||n.fetched_at;return c.length===0?e.jsx("div",{className:"trending-container",children:e.jsx("div",{className:"trending-empty",children:"No trending tokens found."})}):e.jsxs("div",{className:"trending-container",children:[e.jsxs("div",{className:"trending-header",children:[e.jsx("div",{className:"trending-header__gradient"}),e.jsxs("div",{className:"trending-header__content",children:[e.jsxs("div",{className:"trending-header__left",children:[e.jsx("span",{className:"trending-header__icon",children:"ðŸ”¥"}),e.jsxs("div",{className:"trending-header__text",children:[e.jsx("span",{className:"trending-header__label",children:"Solscan"}),e.jsx("span",{className:"trending-header__title",children:"Trending Tokens"})]})]}),a&&e.jsx("span",{className:"trending-header__timestamp",children:new Date(a).toLocaleTimeString()})]})]}),e.jsx("div",{className:"trending-grid",children:c.map((i,t)=>e.jsx(v,{token:i,rank:i.rank||t+1,isExpanded:s===t,onToggle:()=>r(s===t?null:t)},i.mint||i.address||t))})]})}const g=document.getElementById("solscan-trending-root");g&&x.createRoot(g).render(e.jsx($,{}));
