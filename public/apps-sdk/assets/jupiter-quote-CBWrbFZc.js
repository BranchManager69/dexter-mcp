import{c as v,j as e,u as f}from"./use-openai-global-q52TwAFT.js";function u(s,c=9){if(!s)return"0";const n=typeof s=="string"?parseFloat(s):s;if(!Number.isFinite(n))return"0";const a=n/Math.pow(10,c);return a<1e-4?a.toExponential(4):a.toLocaleString(void 0,{maximumFractionDigits:6})}function m(s){return s?s.length<=10?s:`${s.slice(0,4)}...${s.slice(-4)}`:"—"}function g(){const s=f("toolOutput");if(!s)return e.jsx("div",{className:"quote-container",children:e.jsxs("div",{className:"quote-loading",children:[e.jsx("div",{className:"quote-loading__spinner"}),e.jsx("span",{children:"Fetching quote..."})]})});if(s.error)return e.jsx("div",{className:"quote-container",children:e.jsx("div",{className:"quote-error",children:s.error})});const c=s.inputMint||s.input_mint,n=s.outputMint||s.output_mint,a=s.inAmount||s.in_amount,d=s.outAmount||s.out_amount,h=s.slippageBps||s.slippage_bps||0,i=s.priceImpactPct||s.price_impact_pct,o=s.routePlan||s.route_plan||[],_=s.inputSymbol||m(c),x=s.outputSymbol||m(n),j=s.inputDecimals||9,q=s.outputDecimals||9,t=typeof i=="string"?parseFloat(i):i,N=t&&t>1?"quote-impact--high":t&&t>.5?"quote-impact--medium":"";return e.jsx("div",{className:"quote-container",children:e.jsxs("div",{className:"quote-card",children:[e.jsxs("div",{className:"quote-header",children:[e.jsxs("div",{className:"quote-header-left",children:[e.jsx("span",{className:"quote-icon",children:"⚡"}),e.jsx("span",{className:"quote-title",children:"Jupiter Quote"})]}),e.jsx("span",{className:"quote-badge",children:"Preview"})]}),e.jsxs("div",{className:"quote-swap",children:[e.jsxs("div",{className:"quote-swap__from",children:[e.jsx("span",{className:"quote-swap__label",children:"From"}),e.jsx("span",{className:"quote-swap__amount",children:u(a,j)}),e.jsx("span",{className:"quote-swap__symbol",children:_})]}),e.jsx("div",{className:"quote-swap__arrow",children:"→"}),e.jsxs("div",{className:"quote-swap__to",children:[e.jsx("span",{className:"quote-swap__label",children:"To"}),e.jsx("span",{className:"quote-swap__amount",children:u(d,q)}),e.jsx("span",{className:"quote-swap__symbol",children:x})]})]}),e.jsxs("div",{className:"quote-metrics",children:[e.jsxs("div",{className:"quote-metric",children:[e.jsx("span",{className:"quote-metric__label",children:"Slippage"}),e.jsxs("span",{className:"quote-metric__value",children:[(h/100).toFixed(2),"%"]})]}),e.jsxs("div",{className:"quote-metric",children:[e.jsx("span",{className:"quote-metric__label",children:"Price Impact"}),e.jsx("span",{className:`quote-metric__value ${N}`,children:t?`${t.toFixed(4)}%`:"< 0.01%"})]}),o.length>0&&e.jsxs("div",{className:"quote-metric",children:[e.jsx("span",{className:"quote-metric__label",children:"Route"}),e.jsxs("span",{className:"quote-metric__value",children:[o.length," hop",o.length>1?"s":""]})]})]}),o.length>0&&e.jsxs("div",{className:"quote-route",children:[e.jsx("span",{className:"quote-route__label",children:"ROUTE PATH"}),e.jsx("div",{className:"quote-route__steps",children:o.map((l,r)=>e.jsxs("div",{className:"quote-route__step",children:[e.jsx("span",{className:"quote-route__step-label",children:l.label||`Step ${r+1}`}),l.percent&&e.jsxs("span",{className:"quote-route__step-pct",children:[l.percent,"%"]})]},r))})]}),s.contextSlot&&e.jsxs("div",{className:"quote-footer",children:[e.jsxs("span",{className:"quote-footer__slot",children:["Slot: ",s.contextSlot]}),s.timeTaken&&e.jsxs("span",{className:"quote-footer__time",children:[s.timeTaken,"ms"]})]})]})})}const p=document.getElementById("jupiter-quote-root");p&&v.createRoot(p).render(e.jsx(g,{}));
