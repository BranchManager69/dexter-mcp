import{j as o,u as f,r as m}from"./use-openai-global-C-kWgFLb.js";import{c as _}from"./client-rURR1_t4.js";function h(...s){for(const e of s){if(typeof e=="number"&&Number.isFinite(e))return e;if(typeof e=="string"){const l=Number(e);if(Number.isFinite(l))return l}}}function d(s){const e=h(s);return e===void 0?"â€”":new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",maximumFractionDigits:2}).format(e)}function n(s,e){if(s===void 0||!Number.isFinite(s))return"â€”";const l=s.toLocaleString("en-US",{maximumFractionDigits:4});return e?`${l} ${e}`:l}function x(s,e=6,l=4){return s?s.length<=e+l+3?s:`${s.slice(0,e)}â€¦${s.slice(-l)}`:"â€”"}function u(s){if(!s)return"";const e=new Date(s);return isNaN(e.getTime())?"":e.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"})}function j({size:s=16}){return o.jsxs("svg",{width:s,height:s,viewBox:"0 0 128 128",fill:"none",children:[o.jsx("defs",{children:o.jsxs("linearGradient",{id:"sol-port-grad",x1:"90%",y1:"0%",x2:"10%",y2:"100%",children:[o.jsx("stop",{offset:"0%",stopColor:"#00FFA3"}),o.jsx("stop",{offset:"100%",stopColor:"#DC1FFF"})]})}),o.jsx("path",{d:"M25.3 93.5c0.9-0.9 2.2-1.5 3.5-1.5h97.1c2.2 0 3.4 2.7 1.8 4.3l-24.2 24.2c-0.9 0.9-2.2 1.5-3.5 1.5H2.9c-2.2 0-3.4-2.7-1.8-4.3L25.3 93.5z",fill:"url(#sol-port-grad)"}),o.jsx("path",{d:"M25.3 2.5c1-1 2.3-1.5 3.5-1.5h97.1c2.2 0 3.4 2.7 1.8 4.3L103.5 29.5c-0.9 0.9-2.2 1.5-3.5 1.5H2.9c-2.2 0-3.4-2.7-1.8-4.3L25.3 2.5z",fill:"url(#sol-port-grad)"}),o.jsx("path",{d:"M102.7 47.3c-0.9-0.9-2.2-1.5-3.5-1.5H2.1c-2.2 0-3.4 2.7-1.8 4.3l24.2 24.2c0.9 0.9 2.2 1.5 3.5 1.5h97.1c2.2 0 3.4-2.7 1.8-4.3L102.7 47.3z",fill:"url(#sol-port-grad)"})]})}function N({wallet:s,index:e}){const[l,t]=m.useState(!1),r=s.address??`Wallet ${e+1}`,a=s.chain??"Solana",i=s.verified??!1,p=d(s.totalUsd);return o.jsxs("div",{className:`portfolio-wallet ${i?"portfolio-wallet--verified":""}`,onClick:()=>t(!l),children:[o.jsxs("div",{className:"portfolio-wallet__header",children:[o.jsxs("div",{className:"portfolio-wallet__info",children:[o.jsx("div",{className:"portfolio-wallet__chain-icon",children:o.jsx(j,{size:20})}),o.jsxs("div",{className:"portfolio-wallet__details",children:[o.jsx("span",{className:"portfolio-wallet__address",children:x(r)}),o.jsx("span",{className:"portfolio-wallet__chain",children:a})]})]}),o.jsxs("div",{className:"portfolio-wallet__value",children:[o.jsx("span",{className:"portfolio-wallet__total",children:p}),i&&o.jsx("span",{className:"portfolio-wallet__verified-badge",children:"âœ“"})]})]}),l&&o.jsxs("div",{className:"portfolio-wallet__balances",children:[s.sol!==void 0&&o.jsxs("div",{className:"portfolio-wallet__balance",children:[o.jsx("span",{className:"portfolio-wallet__balance-label",children:"SOL"}),o.jsx("span",{className:"portfolio-wallet__balance-value",children:n(s.sol)})]}),s.usdc!==void 0&&o.jsxs("div",{className:"portfolio-wallet__balance",children:[o.jsx("span",{className:"portfolio-wallet__balance-label",children:"USDC"}),o.jsx("span",{className:"portfolio-wallet__balance-value",children:n(s.usdc)})]}),s.usdt!==void 0&&o.jsxs("div",{className:"portfolio-wallet__balance",children:[o.jsx("span",{className:"portfolio-wallet__balance-label",children:"USDT"}),o.jsx("span",{className:"portfolio-wallet__balance-value",children:n(s.usdt)})]})]})]})}function v(){const s=f("toolOutput");if(!s)return o.jsx("div",{className:"portfolio-container",children:o.jsxs("div",{className:"portfolio-loading",children:[o.jsx("div",{className:"portfolio-loading__spinner"}),o.jsx("span",{children:"Loading portfolio..."})]})});const e=Array.isArray(s.wallets)?s.wallets:[],l=d(s.totalUsd),t=s.updatedAt,r=e.some(a=>!a.verified);return e.length===0?o.jsx("div",{className:"portfolio-container",children:o.jsxs("div",{className:"portfolio-card",children:[o.jsx("div",{className:"portfolio-card__header",children:o.jsx("span",{className:"portfolio-card__title",children:"Portfolio Overview"})}),o.jsxs("div",{className:"portfolio-empty",children:[o.jsx("span",{className:"portfolio-empty__icon",children:"ðŸ“­"}),o.jsx("span",{className:"portfolio-empty__text",children:"No wallets linked"}),o.jsx("span",{className:"portfolio-empty__hint",children:"Link a wallet to see your portfolio"})]})]})}):o.jsx("div",{className:"portfolio-container",children:o.jsxs("div",{className:"portfolio-card",children:[o.jsxs("div",{className:"portfolio-card__header",children:[o.jsxs("div",{className:"portfolio-card__title-row",children:[o.jsx("span",{className:"portfolio-card__title",children:"Portfolio Overview"}),t&&o.jsxs("span",{className:"portfolio-card__time",children:["Updated ",u(t)]})]}),o.jsxs("div",{className:"portfolio-card__total-row",children:[o.jsx("span",{className:"portfolio-card__total-label",children:"Total Value"}),o.jsx("span",{className:"portfolio-card__total-value",children:l})]})]}),r&&o.jsxs("div",{className:"portfolio-card__warning",children:[o.jsx("span",{className:"portfolio-card__warning-icon",children:"âš "}),o.jsx("span",{className:"portfolio-card__warning-text",children:"Some wallets are not verified. Deposits may fail until verified."})]}),o.jsx("div",{className:"portfolio-wallets",children:e.map((a,i)=>o.jsx(N,{wallet:a,index:i},a.address||i))}),o.jsx("div",{className:"portfolio-card__footer",children:o.jsxs("span",{className:"portfolio-card__count",children:[e.length," wallet",e.length!==1?"s":""]})})]})})}const c=document.getElementById("portfolio-status-root");c&&_.createRoot(c).render(o.jsx(v,{}));
