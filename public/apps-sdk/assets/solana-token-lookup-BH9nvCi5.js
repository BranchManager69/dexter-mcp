import{c as g,j as o,u as y,r as b}from"./use-openai-global-BYgxb2IW.js";function i(...e){for(const s of e)if(typeof s=="string"&&s.trim())return s.trim()}function t(...e){for(const s of e){if(typeof s=="number"&&Number.isFinite(s))return s;if(typeof s=="string"){const r=Number(s);if(Number.isFinite(r))return r}}}function m(e){return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",notation:"compact",maximumFractionDigits:2}).format(e)}function U(e){const s=e<.01?6:e<1?4:2;return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",maximumFractionDigits:s}).format(e)}function w(e){return`${e>=0?"+":""}${e.toFixed(2)}%`}function I(e,s=4,r=4){return e.length<=s+r+3?e:`${e.slice(0,s)}…${e.slice(-r)}`}function $({symbol:e,imageUrl:s,size:r=64}){const[n,a]=b.useState(!1),l=s&&!n;return o.jsx("div",{className:"token-lookup-icon",style:{width:r,height:r},children:l?o.jsx("img",{src:s,alt:e,onError:()=>a(!0),referrerPolicy:"no-referrer"}):o.jsx("span",{className:"token-lookup-icon__fallback",style:{fontSize:r*.3},children:e.slice(0,2)})})}function C({token:e}){const s=e.info,r=i(e.address,e.mint),n=i(e.symbol,s?.symbol)??"UNKNOWN",a=i(e.name,s?.name)??n,l=i(s?.imageUrl,s?.openGraphImageUrl,s?.headerImageUrl,e.logoURI,e.icon,e.logo,e.image),u=t(e.priceUsd,e.price_usd),N=u!==void 0?U(u):void 0,c=t(e.priceChange24h,e.price_change_24h),k=c!==void 0?w(c):void 0,d=c!==void 0&&c>=0,p=t(e.marketCap,e.market_cap),_=p!==void 0?m(p):void 0,h=t(e.volume24hUsd,e.volume24h),x=h!==void 0?m(h):void 0,f=t(e.liquidityUsd,e.liquidity_usd),v=f!==void 0?m(f):void 0;return o.jsxs("div",{className:`token-lookup-card ${d?"token-lookup-card--positive":"token-lookup-card--negative"}`,children:[o.jsx("div",{className:`token-lookup-card__glow ${d?"token-lookup-card__glow--positive":"token-lookup-card__glow--negative"}`}),o.jsxs("div",{className:"token-lookup-card__content",children:[o.jsxs("div",{className:"token-lookup-card__header",children:[o.jsx($,{symbol:n,imageUrl:l,size:64}),o.jsxs("div",{className:"token-lookup-card__info",children:[o.jsx("h3",{className:"token-lookup-card__name",children:a}),o.jsx("span",{className:"token-lookup-card__symbol",children:n})]}),o.jsxs("div",{className:"token-lookup-card__price-block",children:[o.jsx("span",{className:"token-lookup-card__price",children:N??"—"}),k&&o.jsx("span",{className:`token-lookup-card__change ${d?"token-lookup-card__change--positive":"token-lookup-card__change--negative"}`,children:k})]})]}),o.jsxs("div",{className:"token-lookup-card__metrics",children:[_&&o.jsxs("div",{className:"token-lookup-card__metric",children:[o.jsx("span",{className:"token-lookup-card__metric-label",children:"MCAP"}),o.jsx("span",{className:"token-lookup-card__metric-value",children:_})]}),x&&o.jsxs("div",{className:"token-lookup-card__metric",children:[o.jsx("span",{className:"token-lookup-card__metric-label",children:"VOL (24H)"}),o.jsx("span",{className:"token-lookup-card__metric-value",children:x})]}),v&&o.jsxs("div",{className:"token-lookup-card__metric",children:[o.jsx("span",{className:"token-lookup-card__metric-label",children:"LIQUIDITY"}),o.jsx("span",{className:"token-lookup-card__metric-value",children:v})]})]}),o.jsxs("div",{className:"token-lookup-card__footer",children:[r&&o.jsx("span",{className:"token-lookup-card__mint",title:r,children:I(r)}),o.jsx("div",{className:"token-lookup-card__links",children:r&&o.jsxs(o.Fragment,{children:[o.jsx("a",{href:`https://solscan.io/token/${r}`,target:"_blank",rel:"noreferrer",children:"Solscan"}),o.jsx("a",{href:`https://birdeye.so/token/${r}`,target:"_blank",rel:"noreferrer",children:"Birdeye"}),o.jsx("a",{href:`https://dexscreener.com/solana/${r}`,target:"_blank",rel:"noreferrer",children:"Dexscreener"})]})})]})]})]})}function S(){const e=y("toolOutput");if(!e)return o.jsx("div",{className:"token-lookup-container",children:o.jsxs("div",{className:"token-lookup-loading",children:[o.jsx("div",{className:"token-lookup-loading__skeleton"}),o.jsx("div",{className:"token-lookup-loading__skeleton token-lookup-loading__skeleton--small"})]})});let s=[];if(Array.isArray(e.results)?s=e.results:e.result?s=[e.result]:e.token?s=[e.token]:(e.address||e.mint||e.symbol)&&(s=[e]),s.length===0)return o.jsx("div",{className:"token-lookup-container",children:o.jsx("div",{className:"token-lookup-empty",children:"No tokens found."})});const r=s.slice(0,3);return o.jsxs("div",{className:"token-lookup-container",children:[o.jsx("div",{className:"token-lookup-header",children:o.jsx("span",{className:"token-lookup-title",children:"Token Analysis"})}),o.jsx("div",{className:"token-lookup-list",children:r.map((n,a)=>o.jsx(C,{token:n},n.address||n.mint||a))})]})}const j=document.getElementById("solana-token-lookup-root");j&&g.createRoot(j).render(o.jsx(S,{}));
