import{c as F,j as e,u as R,a as A,b as E,d as M,A as f,C as x,E as h,f as r,G as T,F as t,e as j,S as $,g as k,W as p}from"./use-request-display-mode-B9yDPinm.js";function C(s){if(!s)return null;if(s.result)return s.result;if(s.transfer){const{transfer:n}=s;return n&&!n.destination&&n.recipient?{...n,destination:n.recipient}:n??null}return null}function o(s){if(s==null||s==="")return"—";const n=typeof s=="string"?Number(s):s;return Number.isFinite(n)?`$${n.toLocaleString(void 0,{maximumFractionDigits:2})}`:"—"}function H(s){if(!s)return"—";const l=(s.startsWith("@")?s.slice(1):s).trim();return l?`@${l}`:"—"}function N(){const s=R("toolOutput"),n=C(s),l=A()??null,g=E(),c=M(),u=l?{maxHeight:l,overflow:"auto"}:void 0,S=g!=="fullscreen"&&typeof c=="function";if(!s)return e.jsx(f,{style:u,children:e.jsx(x,{title:"Solana Transfer",badge:{label:"Loading"},children:e.jsx(h,{message:"Processing transfer..."})})});const a=s.ok?"sent":s.error==="confirmation_required"?"confirm":"error",v=a==="sent"?"Sent":a==="confirm"?"Confirm":"Failed",U=n?.destination??n?.recipient??null,i=n?.signature??null,d=n?.solscanUrl??(i?`https://solscan.io/tx/${i}`:null),m=s.thresholdUsd??null,D=n?.amountUi!=null?`${r(n.amountUi)}${n?.mint?` ${n.mint}`:""}`.trim():"—",w=o(n?.valueUsd??null),y=o(n?.priceUsd??null);return e.jsx(f,{style:u,children:e.jsxs(x,{title:"Solana Transfer",badge:{label:v},actions:S?e.jsx("button",{className:"dexter-link",onClick:()=>c?.({mode:"fullscreen"}),children:"Expand"}):null,children:[n?e.jsxs(T,{columns:3,children:[e.jsx(t,{label:"Source Wallet",value:j(n.walletAddress??""),code:!0}),e.jsx(t,{label:"Destination",value:j(U??""),code:!0}),e.jsx(t,{label:"Recipient Handle",value:H(n.recipientHandle)}),e.jsx(t,{label:"Mint",value:r(n.mint)}),e.jsx(t,{label:"Amount (UI)",value:D}),e.jsx(t,{label:"Value (USD)",value:w}),e.jsx(t,{label:"Price (USD)",value:y}),e.jsx(t,{label:"Decimals",value:r(n.decimals)}),e.jsx(t,{label:"Raw Amount",value:r(n.amountRaw)}),e.jsx(t,{label:"Memo",value:r(n.memo)}),a==="confirm"&&m!=null?e.jsx(t,{label:"Confirmation Threshold",value:o(m)}):null]}):e.jsx(h,{message:"No transfer details were returned."}),e.jsxs($,{children:[e.jsxs("span",{children:["Updated ",k(Date.now())]}),a==="sent"?e.jsxs(e.Fragment,{children:[e.jsx("span",{children:"Transfer broadcast successfully."}),i?e.jsxs("span",{children:["Signature: ",i]}):null,d?e.jsx("a",{className:"dexter-link",href:d,target:"_blank",rel:"noreferrer",children:"View on Solscan"}):null]}):a==="confirm"?e.jsxs(e.Fragment,{children:[e.jsx("span",{children:"This transfer meets or exceeds the confirmation threshold."}),e.jsxs(p,{children:["Re-run the tool with ",e.jsx("code",{children:"confirm=true"})," to approve this transfer."]})]}):e.jsxs(e.Fragment,{children:[e.jsx("span",{children:r(s.message||s.error||"Send failed")}),e.jsx(p,{children:"Review the parameters and try again."})]})]})]})})}const b=document.getElementById("solana-send-root");b&&F.createRoot(b).render(e.jsx(N,{}));
