import{j as e,u as v,r as g}from"./use-openai-global-D7K5F0u7.js";/* empty css                   */import{c as b}from"./client-CWA1JIkp.js";import{g as w}from"./utils-B17YD0uM.js";function h(s,a=9){if(!s)return"0";const t=typeof s=="string"?parseFloat(s):s;if(!Number.isFinite(t))return"0";const o=t/Math.pow(10,a);return o<1e-4?o.toExponential(4):o.toLocaleString(void 0,{maximumFractionDigits:6})}function _(s){return s?s.length<=10?s:`${s.slice(0,4)}...${s.slice(-4)}`:"—"}function x({symbol:s,mint:a,size:t=32}){const[o,l]=g.useState(!1),r=a?w(a):void 0,i=r&&!o;return e.jsx("div",{className:"quote-token-icon",style:{width:t,height:t},children:i?e.jsx("img",{src:r,alt:s,onError:()=>l(!0),referrerPolicy:"no-referrer"}):e.jsx("span",{className:"quote-token-icon__fallback",children:s.slice(0,2)})})}function y(){const s=v("toolOutput");if(!s)return e.jsx("div",{className:"quote-container",children:e.jsxs("div",{className:"quote-loading",children:[e.jsx("div",{className:"quote-loading__spinner"}),e.jsx("span",{children:"Fetching quote..."})]})});if(s.error)return e.jsx("div",{className:"quote-container",children:e.jsx("div",{className:"quote-error",children:s.error})});const a=s.inputMint||s.input_mint,t=s.outputMint||s.output_mint,o=s.inAmount||s.in_amount,l=s.outAmount||s.out_amount,r=s.slippageBps||s.slippage_bps||0,i=s.priceImpactPct||s.price_impact_pct,c=s.routePlan||s.route_plan||[],m=s.inputSymbol||_(a),p=s.outputSymbol||_(t),q=s.inputDecimals||9,N=s.outputDecimals||9,n=typeof i=="string"?parseFloat(i):i,f=n&&n>1?"quote-impact--high":n&&n>.5?"quote-impact--medium":"";return e.jsx("div",{className:"quote-container",children:e.jsxs("div",{className:"quote-card",children:[e.jsxs("div",{className:"quote-header",children:[e.jsxs("div",{className:"quote-header-left",children:[e.jsx("span",{className:"quote-icon",children:"⚡"}),e.jsx("span",{className:"quote-title",children:"Jupiter Quote"})]}),e.jsx("span",{className:"quote-badge",children:"Preview"})]}),e.jsxs("div",{className:"quote-swap",children:[e.jsxs("div",{className:"quote-swap__from",children:[e.jsx(x,{symbol:m,mint:a,size:36}),e.jsxs("div",{className:"quote-swap__info",children:[e.jsx("span",{className:"quote-swap__label",children:"From"}),e.jsx("span",{className:"quote-swap__amount",children:h(o,q)}),e.jsx("span",{className:"quote-swap__symbol",children:m})]})]}),e.jsx("div",{className:"quote-swap__arrow",children:"→"}),e.jsxs("div",{className:"quote-swap__to",children:[e.jsx(x,{symbol:p,mint:t,size:36}),e.jsxs("div",{className:"quote-swap__info",children:[e.jsx("span",{className:"quote-swap__label",children:"To"}),e.jsx("span",{className:"quote-swap__amount",children:h(l,N)}),e.jsx("span",{className:"quote-swap__symbol",children:p})]})]})]}),e.jsxs("div",{className:"quote-metrics",children:[e.jsxs("div",{className:"quote-metric",children:[e.jsx("span",{className:"quote-metric__label",children:"Slippage"}),e.jsxs("span",{className:"quote-metric__value",children:[(r/100).toFixed(2),"%"]})]}),e.jsxs("div",{className:"quote-metric",children:[e.jsx("span",{className:"quote-metric__label",children:"Price Impact"}),e.jsx("span",{className:`quote-metric__value ${f}`,children:n?`${n.toFixed(4)}%`:"< 0.01%"})]}),c.length>0&&e.jsxs("div",{className:"quote-metric",children:[e.jsx("span",{className:"quote-metric__label",children:"Route"}),e.jsxs("span",{className:"quote-metric__value",children:[c.length," hop",c.length>1?"s":""]})]})]}),c.length>0&&e.jsxs("div",{className:"quote-route",children:[e.jsx("span",{className:"quote-route__label",children:"ROUTE PATH"}),e.jsx("div",{className:"quote-route__steps",children:c.map((u,d)=>e.jsxs("div",{className:"quote-route__step",children:[e.jsx("span",{className:"quote-route__step-label",children:u.label||`Step ${d+1}`}),u.percent&&e.jsxs("span",{className:"quote-route__step-pct",children:[u.percent,"%"]})]},d))})]}),s.contextSlot&&e.jsxs("div",{className:"quote-footer",children:[e.jsxs("span",{className:"quote-footer__slot",children:["Slot: ",s.contextSlot]}),s.timeTaken&&e.jsxs("span",{className:"quote-footer__time",children:[s.timeTaken,"ms"]})]})]})})}const j=document.getElementById("jupiter-quote-root");j&&b.createRoot(j).render(e.jsx(y,{}));
