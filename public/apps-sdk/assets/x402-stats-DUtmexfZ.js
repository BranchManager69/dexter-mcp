import{j as s}from"./index-C03lspWc.js";import{c as d,u as o}from"./use-openai-global-DMsXV5Pq.js";function r(e){return!e||!Number.isFinite(e)?"$0":e>=1e9?`$${(e/1e9).toFixed(2)}B`:e>=1e6?`$${(e/1e6).toFixed(2)}M`:e>=1e3?`$${(e/1e3).toFixed(1)}K`:`$${e.toFixed(2)}`}function i(e){return!e||!Number.isFinite(e)?"0":e.toLocaleString()}function h(e){switch(e){case"healthy":return"x402-health--healthy";case"degraded":return"x402-health--degraded";case"down":return"x402-health--down";default:return""}}function _(){const e=o("toolOutput");if(!e)return s.jsx("div",{className:"x402-container",children:s.jsxs("div",{className:"x402-loading",children:[s.jsx("div",{className:"x402-loading__spinner"}),s.jsx("span",{children:"Loading network stats..."})]})});if(e.error)return s.jsx("div",{className:"x402-container",children:s.jsx("div",{className:"x402-error",children:e.error})});const t=e.network_summary,c=e.facilitators||[],l=e.top_agents||[],m=e.fetchedAt||e.fetched_at;return s.jsx("div",{className:"x402-container",children:s.jsxs("div",{className:"x402-card",children:[s.jsxs("div",{className:"x402-header",children:[s.jsxs("div",{className:"x402-header-left",children:[s.jsx("span",{className:"x402-icon",children:"ðŸ’³"}),s.jsx("span",{className:"x402-title",children:"x402 Network Stats"})]}),m&&s.jsx("span",{className:"x402-timestamp",children:new Date(m).toLocaleTimeString()})]}),t&&s.jsx("div",{className:"x402-summary",children:s.jsxs("div",{className:"x402-summary__grid",children:[s.jsxs("div",{className:"x402-summary__item",children:[s.jsx("span",{className:"x402-summary__value",children:i(t.total_transactions)}),s.jsx("span",{className:"x402-summary__label",children:"Transactions"})]}),s.jsxs("div",{className:"x402-summary__item",children:[s.jsx("span",{className:"x402-summary__value",children:r(t.total_volume)}),s.jsx("span",{className:"x402-summary__label",children:"Volume"})]}),s.jsxs("div",{className:"x402-summary__item",children:[s.jsx("span",{className:"x402-summary__value",children:i(t.active_facilitators)}),s.jsx("span",{className:"x402-summary__label",children:"Facilitators"})]}),s.jsxs("div",{className:"x402-summary__item",children:[s.jsx("span",{className:"x402-summary__value",children:i(t.active_agents)}),s.jsx("span",{className:"x402-summary__label",children:"Active Agents"})]})]})}),c.length>0&&s.jsxs("div",{className:"x402-section",children:[s.jsx("span",{className:"x402-section__title",children:"FACILITATORS"}),s.jsx("div",{className:"x402-facilitators",children:c.map((a,n)=>s.jsxs("div",{className:"x402-facilitator",children:[s.jsxs("div",{className:"x402-facilitator__header",children:[s.jsx("span",{className:"x402-facilitator__name",children:a.name||"Unknown"}),a.health&&s.jsx("span",{className:`x402-facilitator__health ${h(a.health)}`,children:a.health})]}),s.jsxs("div",{className:"x402-facilitator__stats",children:[s.jsxs("span",{children:[i(a.transactions)," txns"]}),s.jsx("span",{children:r(a.volume)}),a.active_agents&&s.jsxs("span",{children:[a.active_agents," agents"]})]})]},n))})]}),l.length>0&&s.jsxs("div",{className:"x402-section",children:[s.jsx("span",{className:"x402-section__title",children:"TOP AGENTS"}),s.jsx("div",{className:"x402-agents",children:l.slice(0,5).map((a,n)=>s.jsxs("div",{className:"x402-agent",children:[s.jsxs("span",{className:"x402-agent__rank",children:["#",n+1]}),s.jsx("span",{className:"x402-agent__name",children:a.name||a.id||"Unknown"}),s.jsx("span",{className:"x402-agent__volume",children:r(a.volume)})]},n))})]})]})})}const x=document.getElementById("x402-stats-root");x&&d.createRoot(x).render(s.jsx(_,{}));
