import{j as e,u as m}from"./use-openai-global-D7K5F0u7.js";/* empty css                   */import{c as p}from"./client-CWA1JIkp.js";function h(a){if(!a)return"â€”";try{return new Date(a).toLocaleString()}catch{return a}}function j(a,s=150){return a?a.length<=s?a:a.slice(0,s)+"...":"â€”"}function x(a){return a.jobType?.toLowerCase().includes("sora")||a.jobType?.toLowerCase().includes("video")?"video":"image"}function u(){const a=m("toolOutput");if(!a)return e.jsx("div",{className:"media-container",children:e.jsxs("div",{className:"media-loading",children:[e.jsx("div",{className:"media-loading__spinner"}),e.jsx("span",{children:"Loading job..."})]})});if(a.error||a.ok===!1)return e.jsx("div",{className:"media-container",children:e.jsx("div",{className:"media-error",children:a.error||"Job creation failed"})});const s=a.job;if(!s)return e.jsx("div",{className:"media-container",children:e.jsx("div",{className:"media-error",children:"No job data returned"})});const i=s.status||"pending",r=x(s),d=s.resultPayload?.artifacts||[],t=d.length>0,l=a.pricing?.chargeUsd||(s.costCents?s.costCents/100:null);return e.jsx("div",{className:"media-container",children:e.jsxs("div",{className:"media-card",children:[e.jsxs("div",{className:"media-header",children:[e.jsxs("div",{className:"media-header-left",children:[e.jsx("span",{className:"media-icon",children:r==="video"?"ðŸŽ¬":"ðŸ–¼ï¸"}),e.jsx("span",{className:"media-title",children:r==="video"?"Sora Video Job":"Meme Generator Job"})]}),e.jsxs("span",{className:`media-badge media-badge--${i}`,children:[i==="running"&&e.jsx("span",{className:"media-badge__spin",children:"â†»"}),i==="completed"&&"âœ“",i==="failed"&&"âœ•",i==="pending"&&"â—·",i]})]}),t?e.jsxs("div",{className:"media-preview",children:[r==="video"?e.jsx("video",{src:d[0].url,controls:!0,className:"media-preview__video",children:"Your browser does not support video playback."}):e.jsx("img",{src:d[0].url,alt:"Generated media",className:"media-preview__image"}),d.length>1&&e.jsxs("span",{className:"media-preview__count",children:[d.length," files"]})]}):e.jsxs("div",{className:`media-placeholder media-placeholder--${r}`,children:[e.jsx("span",{className:"media-placeholder__icon",children:r==="video"?"ðŸŽ¬":"ðŸ–¼ï¸"}),e.jsx("span",{className:"media-placeholder__text",children:i==="completed"?"Generation complete":"Processing..."}),i==="running"&&e.jsx("div",{className:"media-placeholder__progress"})]}),s.requestPayload?.prompt&&e.jsxs("div",{className:"media-prompt",children:[e.jsx("span",{className:"media-prompt__label",children:"PROMPT"}),e.jsx("p",{className:"media-prompt__text",children:j(s.requestPayload.prompt,300)})]}),e.jsxs("div",{className:"media-metrics",children:[e.jsxs("div",{className:"media-metric",children:[e.jsx("span",{className:"media-metric__label",children:"STATUS"}),e.jsx("span",{className:"media-metric__value",children:i.toUpperCase()})]}),r==="video"&&s.requestPayload?.seconds&&e.jsxs("div",{className:"media-metric",children:[e.jsx("span",{className:"media-metric__label",children:"DURATION"}),e.jsxs("span",{className:"media-metric__value",children:[s.requestPayload.seconds,"s"]})]}),s.requestPayload?.resolution&&e.jsxs("div",{className:"media-metric",children:[e.jsx("span",{className:"media-metric__label",children:"RESOLUTION"}),e.jsx("span",{className:"media-metric__value",children:s.requestPayload.resolution})]}),e.jsxs("div",{className:"media-metric",children:[e.jsx("span",{className:"media-metric__label",children:"CREATED"}),e.jsx("span",{className:"media-metric__value",children:h(s.createdAt)})]})]}),r==="image"&&s.requestPayload?.tokens&&s.requestPayload.tokens.length>0&&e.jsxs("div",{className:"media-tokens",children:[e.jsx("span",{className:"media-tokens__label",children:"TOKENS"}),e.jsx("div",{className:"media-tokens__list",children:s.requestPayload.tokens.map((c,o)=>e.jsx("span",{className:"media-tokens__item",children:c.symbol||c.mint?.slice(0,8)||"Unknown"},o))})]}),l&&e.jsxs("div",{className:"media-pricing",children:[e.jsx("span",{className:"media-pricing__label",children:"Cost"}),e.jsxs("span",{className:"media-pricing__value",children:["$",l.toFixed(2)]})]}),s.errorMessage&&e.jsxs("div",{className:"media-error-box",children:[e.jsx("span",{className:"media-error-box__icon",children:"âœ•"}),e.jsx("p",{children:s.errorMessage})]}),e.jsxs("div",{className:"media-footer",children:[e.jsx("code",{className:"media-footer__id",children:s.id}),s.statusUrl&&e.jsx("a",{href:s.statusUrl,target:"_blank",rel:"noreferrer",className:"media-footer__link",children:"View Job â†—"})]})]})})}const n=document.getElementById("media-jobs-root");n&&p.createRoot(n).render(e.jsx(u,{}));
