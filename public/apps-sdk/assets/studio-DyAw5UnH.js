import{c as r,j as s,u as o}from"./use-openai-global-BDHbj7zS.js";function l(e){if(!e||!Number.isFinite(e))return"‚Äî";if(e<60)return`${e}s`;if(e<3600)return`${Math.floor(e/60)}m ${e%60}s`;const i=Math.floor(e/3600),t=Math.floor(e%3600/60);return`${i}h ${t}m`}function u(e){if(!e)return"‚Äî";try{return new Date(e).toLocaleString()}catch{return e}}function m(e){return e.jobs?"list":e.job?"inspect":e.media||e.headline?"breaking_news":e.artifacts!==void 0||e.completed_at?"news_status":e.success===!1&&e.message?.includes("cancel")?"cancel":e.job_id&&!e.status?"create":"status"}function c({status:e}){const i={running:{icon:"‚Üª",className:"studio-badge--running"},completed:{icon:"‚úì",className:"studio-badge--success"},failed:{icon:"‚úï",className:"studio-badge--error"},cancelled:{icon:"‚óº",className:"studio-badge--neutral"},pending:{icon:"‚ó∑",className:"studio-badge--warning"},queued:{icon:"‚ó∑",className:"studio-badge--info"}},t=i[e]||i.pending;return s.jsxs("span",{className:`studio-badge ${t.className}`,children:[s.jsx("span",{className:e==="running"?"studio-badge__spin":"",children:t.icon}),e]})}function j({payload:e}){return s.jsxs("div",{className:"studio-view",children:[s.jsxs("div",{className:"studio-success-banner",children:[s.jsx("span",{className:"studio-success-icon",children:"üöÄ"}),s.jsx("div",{className:"studio-success-text",children:s.jsx("span",{className:"studio-success-title",children:"Agent Started!"})})]}),e.job_id&&s.jsxs("div",{className:"studio-info-box",children:[s.jsx("span",{className:"studio-info-label",children:"JOB ID"}),s.jsx("code",{className:"studio-info-value",children:e.job_id})]}),e.message&&s.jsx("p",{className:"studio-message",children:e.message})]})}function n({payload:e}){const i=e.status||"pending",t=e.job_id;return s.jsxs("div",{className:"studio-view",children:[s.jsx("div",{className:"studio-info-box",children:s.jsxs("div",{className:"studio-info-row",children:[s.jsx("span",{className:"studio-info-label",children:"JOB ID"}),s.jsx("code",{className:"studio-info-value",children:t||"‚Äî"})]})}),i==="running"&&e.current_step&&s.jsxs("div",{className:"studio-progress",children:[s.jsx("div",{className:"studio-progress-icon",children:"üöÄ"}),s.jsxs("div",{className:"studio-progress-info",children:[s.jsx("span",{className:"studio-progress-step",children:e.current_step}),e.turns!==void 0&&s.jsxs("span",{className:"studio-progress-turns",children:["Turn ",e.turns]})]})]}),s.jsxs("div",{className:"studio-metrics",children:[s.jsxs("div",{className:"studio-metric",children:[s.jsx("span",{className:"studio-metric__label",children:"STATUS"}),s.jsx("span",{className:"studio-metric__value",children:i.toUpperCase()})]}),s.jsxs("div",{className:"studio-metric",children:[s.jsx("span",{className:"studio-metric__label",children:"TURNS"}),s.jsx("span",{className:"studio-metric__value",children:e.turns??0})]}),s.jsxs("div",{className:"studio-metric",children:[s.jsx("span",{className:"studio-metric__label",children:"ELAPSED"}),s.jsx("span",{className:"studio-metric__value",children:l(e.elapsed_seconds)})]}),s.jsxs("div",{className:"studio-metric",children:[s.jsx("span",{className:"studio-metric__label",children:"STARTED"}),s.jsx("span",{className:"studio-metric__value",children:u(e.started_at)})]})]}),e.error&&s.jsxs("div",{className:"studio-error-box",children:[s.jsx("span",{className:"studio-error-icon",children:"‚úï"}),s.jsx("p",{children:e.error})]})]})}function h({jobs:e}){return s.jsx("div",{className:"studio-view",children:e.length===0?s.jsxs("div",{className:"studio-empty",children:[s.jsx("span",{className:"studio-empty-icon",children:"üöÄ"}),s.jsx("p",{children:"No jobs found"})]}):s.jsx("div",{className:"studio-jobs-list",children:e.map((i,t)=>s.jsxs("div",{className:"studio-job-row",children:[s.jsxs("div",{className:"studio-job-left",children:[s.jsx("code",{className:"studio-job-id",children:i.id||i.job_id}),s.jsx(c,{status:i.status||"pending"})]}),s.jsx("div",{className:"studio-job-right",children:s.jsxs("span",{className:"studio-job-turns",children:[i.turns||0," turns"]})})]},i.id||t))})})}function x({payload:e}){return s.jsxs("div",{className:"studio-view",children:[e.headline&&s.jsxs("div",{className:"studio-headline-box",children:[s.jsx("span",{className:"studio-headline-label",children:"HEADLINE"}),s.jsx("p",{className:"studio-headline-text",children:e.headline})]}),e.media&&e.media.length>0&&s.jsxs("div",{className:"studio-media-list",children:[s.jsx("span",{className:"studio-media-label",children:"MEDIA JOBS"}),e.media.map((i,t)=>s.jsxs("div",{className:`studio-media-item ${i.type==="video"?"studio-media-item--video":"studio-media-item--image"}`,children:[s.jsx("span",{className:"studio-media-icon",children:i.type==="video"?"üé¨":"üñºÔ∏è"}),s.jsxs("div",{className:"studio-media-info",children:[s.jsx("span",{className:"studio-media-type",children:i.type==="video"?"Sora Video":"Infographic"}),i.job_id&&s.jsx("code",{className:"studio-media-id",children:i.job_id})]})]},i.job_id||t))]}),e.view_at&&s.jsx("a",{href:e.view_at,target:"_blank",rel:"noreferrer",className:"studio-view-link",children:"View Jobs ‚Üó"})]})}function N(){const e=o("toolOutput");if(!e)return s.jsx("div",{className:"studio-container",children:s.jsxs("div",{className:"studio-loading",children:[s.jsx("div",{className:"studio-loading__spinner"}),s.jsx("span",{children:"Loading Studio..."})]})});if(e.error&&e.success===!1)return s.jsx("div",{className:"studio-container",children:s.jsx("div",{className:"studio-error",children:e.error||"Operation failed"})});const i=m(e),t=e.status||e.job?.status||"pending",d={create:"Studio Job Created",status:"Job Status",list:"Studio Jobs",inspect:"Job Inspection",cancel:"Job Cancellation",breaking_news:"Breaking News Media",news_status:"News Media Status"};return s.jsx("div",{className:"studio-container",children:s.jsxs("div",{className:"studio-card",children:[s.jsxs("div",{className:"studio-header",children:[s.jsxs("div",{className:"studio-header-left",children:[s.jsx("span",{className:"studio-icon",children:"üé¨"}),s.jsx("span",{className:"studio-title",children:d[i]})]}),i!=="list"&&i!=="create"&&s.jsx(c,{status:t}),i==="list"&&s.jsxs("span",{className:"studio-count",children:[e.count||e.jobs?.length||0," jobs"]})]}),i==="create"&&s.jsx(j,{payload:e}),i==="status"&&s.jsx(n,{payload:e}),i==="list"&&s.jsx(h,{jobs:e.jobs||[]}),i==="inspect"&&e.job&&s.jsx(n,{payload:{...e.job,job_id:e.job.id}}),(i==="breaking_news"||i==="news_status")&&s.jsx(x,{payload:e})]})})}const a=document.getElementById("studio-root");a&&r.createRoot(a).render(s.jsx(N,{}));
